---
import BaseLayout from './BaseLayout.astro';
import PostMeta from '@components/PostMeta.astro';
import PostTags from '@components/PostTags.astro';
import Comments from '@components/Comments.astro';
import RelatedPosts from '@components/RelatedPosts.astro';
import type { CollectionEntry } from 'astro:content';

interface Props {
  post: CollectionEntry<'posts'>;
}

const { post } = Astro.props;
const { title, date, tags, categories } = post.data;
---

<BaseLayout title={title} layout="post">
  <header>
    <h1 class="post-title">{title}</h1>
  </header>
  
  <div class="content">
    {date && <PostMeta date={date} categories={categories} />}
    
    <div class="post-body">
      <slot />
      <PostTags tags={tags} />
    </div>
    
    <Comments />
    <RelatedPosts currentSlug={post.slug} />
  </div>
</BaseLayout>
